# obj-presets

The utility allows you to easily template your .obj files by mapping it in .json.

### Here's a simple example:

```json
{
  "extends": ".presets/prod/bar.json",

  "siteName": "Foo",
  "siteDomain": "example.com",
  "siteUrl": "https://{siteDomain}/help",

  "webmasterName": "webmaster",
  "webmasterEmail": "{webmasterName}@{siteDomain}",

  "debug": 0
}
```

vvv

```obj
# Autogenerated with obj-presets
SITE_NAME=Foo
SITE_DOMAIN=example.com
SITE_URL=https://example.com/help
WEBMASTER_NAME=webmaster
WEBMASTER_EMAIL=webmaster@example.com
HELLO_FROM_BAR={"bar":"Hello World!"}
DEBUG=0
EXTENDS=.presets/prod/bar.json
```

---

## Installation

1. The project requires Node v14 or higher. To install it you need to use **npm**:

```shell
npm install --save-dev obj-preset
```

2. After the installation create **.jsonvrc.json** and check the preferences:

```shell
nano .jsonvrc.json
```

Available options:

```json
{
  "preset": ".presets/prod.json",
  "objInput": ".obj.example",
  "objOutput": ".obj",
  "logging": 0
}
```

3. Create your **presets** and add it to the config:

```shell
mkdir .presets && cd .presets
nano prod.json
```

Reference syntax ("extends" directive is optional!):

```json5
{
  "extends": ".presets/prod/bar.json",

  "siteName": "Foo",
  "siteDomain": "example.com",
  "siteUrl": "https://{siteDomain}/help",

  "webmasterName": "webmaster",
  "webmasterEmail": "{webmasterName}@{siteDomain}",

  "debug": 0
}
```

4. Compile your presets:

```shell
cd ..
obj-preset
```

5. **You're all set!**

---

## Reference

1. You can set all the desired preferences in **.jsonvrc.json**:

```json5
{
  "extends": ".presets/prod/bar.json",

  "siteName": "Foo",
  "siteDomain": "example.com",
  "siteUrl": "https://{siteDomain}/help",

  "webmasterName": "webmaster",
  "webmasterEmail": "{webmasterName}@{siteDomain}",

  "debug": 0
}
```

2. The **"extends"** directive mixes your config with the target config:

```json5
{
  "extends": ".presets/variables.json",
  "color": "{green}",
  "secondColor": "{blue}"
}
```

3. You can use **arguments** to override our fullfill the config preferences:

```shell
obj-preset --preset .presets/prod.json --output .obj
```

---

**obj-presets**  
by Kenny Romanov
